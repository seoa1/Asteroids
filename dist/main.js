!function(t){var e={};function i(o){if(e[o])return e[o].exports;var s=e[o]={i:o,l:!1,exports:{}};return t[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=e,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(o,s,function(e){return t[e]}.bind(null,s));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=4)}([function(t,e){const i={inherits:function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},randomVec:function(t){const e=2*Math.PI*Math.random();return i.scale([Math.sin(e),Math.cos(e)],t)},scale:function(t,e){return[t[0]*e,t[1]*e]}};t.exports=i},function(t,e){function i(t){this.pos=t.pos,this.vel=t.vel,this.radius=t.radius,this.color=t.color,this.game=t.game,this.isWrappable=!0}i.prototype.draw=function(t){t.fillStyle=this.color,t.beginPath(),t.arc(this.pos[0],this.pos[1],this.radius,0,2*Math.PI,!1),t.fill()},i.prototype.move=function(){this.pos=[this.pos[0]+this.vel[0],this.pos[1]+this.vel[1]],this.game.isOutOfBounds(this.pos,this.radius)&&(this.isWrappable?this.pos=this.game.wrap(this.pos,this.radius):this.game.remove(this))},i.prototype.isCollidedWith=function(t){let e=Math.abs(this.pos[0]-t.pos[0]),i=Math.abs(this.pos[1]-t.pos[1]);return Math.sqrt(e**2+i**2)<this.radius+t.radius},i.prototype.collideWith=function(t){},t.exports=i},function(t,e,i){const o=i(1);function s(t,e,i){this.RADIUS=4,this.COLOR="green",o.call(this,{pos:t,vel:i,radius:this.RADIUS,color:this.COLOR,game:e}),this.isWrappable=!1}i(0).inherits(s,o),t.exports=s},function(t,e,i){const o=i(0),s=i(1),n=i(2);function r(t,e){this.RADIUS=20,this.COLOR="blue",s.call(this,{pos:t,vel:[0,0],radius:this.RADIUS,color:this.COLOR,game:e})}o.inherits(r,s),r.prototype.relocate=function(){this.pos=this.game.randomPosition(),this.vel=[0,0]},r.prototype.power=function(t){this.vel=[this.vel[0]+t[0],this.vel[1]+t[1]]},r.prototype.fireBullet=function(){if(Math.abs(this.vel[0])>0||Math.abs(this.vel[1])>0){let t=new n(this.pos,this.game,[4*this.vel[0],4*this.vel[1]]);this.game.addBullet(t)}},t.exports=r},function(t,e,i){const o=i(5);window.GameView=o,window.addEventListener("DOMContentLoaded",t=>{let e=document.getElementById("game-canvas").getContext("2d");new o(e).start()})},function(t,e,i){const o=i(6);function s(t){this.game=new o,this.ctx=t}s.prototype.start=function(){this.bindKeyHandlers(),window.setInterval(()=>{this.game.step(),this.game.draw(this.ctx)},20)},s.prototype.bindKeyHandlers=function(){key("left",()=>{this.game.ship.power([-3,0])}),key("right",()=>{this.game.ship.power([3,0])}),key("up",()=>{this.game.ship.power([0,-3])}),key("down",()=>{this.game.ship.power([0,3])}),key("space",()=>{this.game.ship.fireBullet()})},t.exports=s},function(t,e,i){const o=i(7),s=i(3),n=i(2);function r(){this.DIM_X=document.getElementById("game-canvas").width,this.DIM_Y=document.getElementById("game-canvas").height,this.NUM_ASTEROIDS=5,this.asteroids=[],this.addAsteroids(),this.ship=new s(this.randomPosition(),this),this.bullets=[]}r.prototype.randomPosition=function(){return[Math.random()*this.DIM_X,Math.random()*this.DIM_Y]},r.prototype.allObjects=function(){return this.asteroids.concat(this.bullets.concat([this.ship]))},r.prototype.addAsteroids=function(){for(let t=0;t<this.NUM_ASTEROIDS;t++)this.asteroids.push(new o(this.randomPosition(),this))},r.prototype.addBullet=function(t){this.bullets.push(t)},r.prototype.draw=function(t){t.clearRect(0,0,this.DIM_X,this.DIM_Y),this.allObjects().forEach(e=>{e.draw(t)})},r.prototype.moveObjects=function(){this.allObjects().forEach(t=>{t.move()})},r.prototype.isOutOfBounds=function(t,e){return t[0]>this.DIM_X+e-1||t[0]<-1*e||t[1]>this.DIM_Y+e-1||t[1]<-1*e},r.prototype.wrap=function(t,e){return t[0]>this.DIM_X+e-1?[-1*e,t[1]]:t[0]<-1*e?[this.DIM_X+e-1,t[1]]:t[1]>this.DIM_Y+e-1?[t[0],-1*e]:t[1]<-1*e?[t[0],this.DIM_Y+e-1]:t},r.prototype.checkCollisions=function(){let t=this.allObjects();for(let e=0;e<t.length;e++)for(let i=e+1;i<t.length;i++)t[e].isCollidedWith(t[i])&&t[e].collideWith(t[i])},r.prototype.step=function(){this.moveObjects(),this.checkCollisions()},r.prototype.remove=function(t){t instanceof o&&(this.asteroids=this.asteroids.filter(e=>t!=e)),t instanceof n&&(this.bullets=this.bullets.filter(e=>t!=e))},t.exports=r},function(t,e,i){let o=i(0);const s=i(1),n=i(3),r=i(2);function h(t,e){this.COLOR="red",this.RADIUS=30,s.call(this,{pos:t,vel:o.randomVec(20*Math.random()),radius:this.RADIUS,color:this.COLOR,game:e})}o.inherits(h,s),h.prototype.collideWith=function(t){t instanceof n&&t.relocate(),t instanceof r&&(this.game.remove(this),this.game.remove(t))},t.exports=h}]);